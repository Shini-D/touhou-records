---
import { getCollection } from 'astro:content';
import LayoutInner from "@/layouts/LayoutInner.astro";
import CharacterDetails from '@/sections/CharacterDetails.astro';

export async function getStaticPaths() {
  const chars = await getCollection('characters', ({ data }) => data.language === 'en');
  return chars.map((char) => ({
    params: { id: char.data.url },
    props: { char },
  }));
}

const { char } = Astro.props;
---

<LayoutInner title={char.data.name} ogImage={char.data.opengraph}>
  <CharacterDetails char={char} />
</LayoutInner>
